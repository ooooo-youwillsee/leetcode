package com.ooooo;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

class Solution1 {
  
  private int[] time;
  private final List<String> ans = new ArrayList<>();
  
  private void dfs(int num, int j, int hour, int min) {
    if (hour > 11 || min > 59) return;
    if (num == 0) {
      ans.add(String.format("%d:%02d", hour, min));
      return;
    }
    for (int i = j; i < time.length; i++) {
      if (i >= 0 && i < 4) hour += time[i];
      else min += time[i];
      dfs(num - 1, i + 1, hour, min);
      if (i >= 0 && i < 4) hour -= time[i];
      else min -= time[i];
    }
  }
  
  public List<String> readBinaryWatch(int num) {
    time = new int[]{1, 2, 4, 8, 1, 2, 4, 8, 16, 32};
    dfs(num, 0, 0, 0);
    return ans;
  }
  
  private static void test(int num) {
    Solution1 solution = new Solution1();
    List<String> ans = solution.readBinaryWatch(num);
    Collections.sort(ans);
    System.out.println("size: " + ans.size());
    for (String s : ans) {
      System.out.print(s + " ");
    }
    System.out.println();
  }
  
  public static void main(String[] args) {
    test(1);
    test(2); // ["0:03","0:05","0:06","0:09","0:10","0:12","0:17","0:18","0:20","0:24","0:33","0:34","0:36","0:40","0:48","1:01","1:02","1:04","1:08","1:16","1:32","2:01","2:02","2:04","2:08","2:16","2:32","3:00","4:01","4:02","4:04","4:08","4:16","4:32","5:00","6:00","8:01","8:02","8:04","8:08","8:16","8:32","9:00","10:00"]
    
    test(4); // ["0:15","0:23","0:27","0:29","0:30","0:39","0:43","0:45","0:46","0:51","0:53","0:54","0:57","0:58","1:07","1:11","1:13","1:14","1:19","1:21","1:22","1:25","1:26","1:28","1:35","1:37","1:38","1:41","1:42","1:44","1:49","1:50","1:52","1:56","2:07","2:11","2:13","2:14","2:19","2:21","2:22","2:25","2:26","2:28","2:35","2:37","2:38","2:41","2:42","2:44","2:49","2:50","2:52","2:56","3:03","3:05","3:06","3:09","3:10","3:12","3:17","3:18","3:20","3:24","3:33","3:34","3:36","3:40","3:48","4:07","4:11","4:13","4:14","4:19","4:21","4:22","4:25","4:26","4:28","4:35","4:37","4:38","4:41","4:42","4:44","4:49","4:50","4:52","4:56","5:03","5:05","5:06","5:09","5:10","5:12","5:17","5:18","5:20","5:24","5:33","5:34","5:36","5:40","5:48","6:03","6:05","6:06","6:09","6:10","6:12","6:17","6:18","6:20","6:24","6:33","6:34","6:36","6:40","6:48","7:01","7:02","7:04","7:08","7:16","7:32","8:07","8:11","8:13","8:14","8:19","8:21","8:22","8:25","8:26","8:28","8:35","8:37","8:38","8:41","8:42","8:44","8:49","8:50...
  }
}